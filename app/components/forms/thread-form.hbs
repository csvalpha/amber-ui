<div class='card'>
  <div class='card-header'>
    <h5>{{if @model.isNew 'Topic aanmaken' 'Topic wijzigen'}}</h5>
  </div>
  <div class='card-body'>
    <form {{action @onSubmit on='submit'}}>
      <ModelForm::TextInput
        @model={{@model}}
        @property='title'
        @label='Titel'
        @required={{true}}
      />

      {{#if @model.firstPost }}
        <label for='forumpost-message'>Bericht *</label>
        <MdEditor
          @content={{@model.firstPost.message}}
          @textareaId='forumpost-message'
        />
      {{else}}
        {{#if (can 'edit forum/threads')}}
          <ModelForm::CheckboxInput
            @model={{@model}}
            @property='isOpen'
            @label='Open voor reacties'
          />
        {{/if}}
      {{/if}}

      <ModelForm::FormActions
        @errors={{@model.errors}}
        @errorMessage={{@errorMessage}}
      >
        {{#if @model.isNew}}
          <LinkTo
            @route='forum.categories.category.threads'
            class='btn btn-default'
          >
            Annuleren
          </LinkTo>
        {{else}}
          <LinkTo
            @route='forum.categories.category.threads.thread'
            @model={{@model}}
            class='btn btn-default'
          >
            Annuleren
          </LinkTo>
        {{/if}}
      </ModelForm::FormActions>
    </form>
  </div>
</div>