{{#ember-wormhole to="navbar-wormhole"}}
  {{page-actions-buttons pageActions=pageActions}}
{{/ember-wormhole}}

{{#tabbed-view tabItems=tabItems}}
  <div class="row flex-row-reverse tabs-with-filterbar-row">
    {{#filter-bar class="col-12 col-lg-5 mb-2 mb-lg-0" filter=filter
                  sortedAttribute=sortedAttribute sortableAttributes=sortableAttributes
                  sortedAscending=sortedAscending enter=(action "selectFirstItem")}}
      <div class="form-check">
        <label class="form-check-label">
          {{input type="checkbox" checked=showAdministrativeGroups class="form-check-input"}}
          {{t "Toon administratieve groepen"}}
          <div class="custom-checkmark"></div>
        </label>
      </div>
    {{/filter-bar}}

    <div class="col-12 col-lg-7">
      <ul class="nav nav-tabs">
        <li class="nav-item">
          <a class="nav-link {{unless oldMembershipsTabActive 'active' }} {{if (eq currentMemberships.length 0) 'disabled'}}" {{action "hideOldMemberships"}}> {{t 'Huidige groepen'}}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link {{if oldMembershipsTabActive 'active' }} {{if (eq oldMemberships.length 0) 'disabled'}}" {{action "showOldMemberships"}}> {{t 'Voorheen'}}</a>
        </li>
      </ul>
    </div>
  </div>

  <div class="card-body row">
    {{#each filteredModelsWithAdministrative as |membership|}}
      {{#link-to 'groups.show' membership.group class="col-sm-12 col-md-6 col-lg-4"}}
        {{#cards/membership-card title=membership.group.name subtitle=membership.function
                                  imageSource=membership.group.avatarThumbUrlOrDefault
                                  administrative=membership.group.administrative}}
          <small>
            {{moment-format membership.startDate 'DD-MM-YYYY'}} -
            {{#if membership.endDate}}
              {{moment-format membership.endDate 'DD-MM-YYYY'}}
            {{else}}
              {{t "heden"}}
            {{/if}}
          </small>
        {{/cards/membership-card}}
      {{/link-to}}
    {{else}}
      <div class="alert alert-warning col-xs">
        {{t 'Geen groepen gevonden'}}
      </div>
    {{/each}}
  </div>

{{/tabbed-view}}
